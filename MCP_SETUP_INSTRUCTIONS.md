# MCP Server Setup Instructions

Generated by claude-mcp-init v0.9.4
Detected shell: zsh (optimized)

## Prerequisites Checklist

1. **Environment Variables**
   - [ ] Update API keys in `.env` file (if not provided during setup)
   - [ ] Verify `OPENAI_API_KEY` is set (required for Cipher)
   - [ ] Optionally set `ANTHROPIC_API_KEY` for alternative LLM support

2. **Install Dependencies**
   - [ ] UV package manager: `curl -LsSf https://astral.sh/uv/install.sh | sh`
   - [ ] Cipher MCP server: `uv add cipher-mcp`

3. **MCP Configuration**
   - [ ] Use generated `.mcp.json` file with Claude Code or compatible MCP clients
   - [ ] Or manually configure your MCP client with the settings

## Quick Start

### 1. Set up Environment
```zsh
# Source environment variables (automatically configured during setup)
source .env

# Verify API keys are set
echo $OPENAI_API_KEY
echo $ANTHROPIC_API_KEY
```

### 2. Install MCP Dependencies
```zsh
# Install UV (Python package manager) if not already installed
curl -LsSf https://astral.sh/uv/install.sh | sh

# Install Cipher MCP server
uv add cipher-mcp

# Note: Serena will be automatically installed via uvx when first used
```

### 3. Configure Your MCP Client
Use the generated `.mcp.json` file with your MCP client:

**For Claude Code:**
- Copy or merge `.mcp.json` settings into your Claude Code MCP configuration

**For Cursor:**
- Copy `.mcp.json` to `.cursor/mcp.json` (global) or project root (project-specific)

**For other MCP clients:**
- Use the server configurations from `.mcp.json`

### 4. Test the Setup
```zsh
# Test Serena MCP server (will auto-install via uvx)
uvx --from git+https://github.com/oraios/serena serena start-mcp-server --help

# Test Cipher MCP server
cipher --mode mcp --help

# Verify environment variables
echo "OpenAI Key set: ${OPENAI_API_KEY:+YES}"
echo "Anthropic Key set: ${ANTHROPIC_API_KEY:+YES}"
```

## Configuration Files

- **`.mcp.json`** - Universal MCP server configuration for all compatible clients
- **`.serena/project.yml`** - Serena semantic code analysis configuration (official schema)
- **`memAgent/cipher.yml`** - Cipher persistent memory configuration
- **`.env`** - Environment variables (API keys and server settings)

## Troubleshooting

### Common Issues

1. **API Key Not Set**
   - Ensure `OPENAI_API_KEY` and/or `ANTHROPIC_API_KEY` are properly set in `.env`
   - Verify keys have sufficient credits and permissions
   - Use `--openai-key` or `--anthropic-key` options during setup for automatic configuration

2. **Dependencies Missing**
   - Install UV package manager: `curl -LsSf https://astral.sh/uv/install.sh | sh`
   - Install Cipher: `uv add cipher-mcp`
   - Serena installs automatically via uvx on first use

3. **MCP Configuration Issues**
   - Ensure `.mcp.json` is properly formatted
   - Check that absolute paths are correct in the configuration
   - Verify environment variables are accessible to your MCP client

3. **Permission Issues**
   - Ensure scripts have execute permissions: `chmod +x *.sh`

## Additional Resources

- [Serena Documentation](https://github.com/oraios/serena)
- [Cipher Documentation](https://github.com/campfirein/cipher)
- [Claude Code MCP Docs](https://docs.anthropic.com/claude-code/mcp)
- [Claude MCP Init Repository](https://github.com/yourusername/claude-mcp-init)
